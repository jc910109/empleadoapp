{"version":3,"sources":["../../src/pages/nreserva/nreserva.module.ts","../../src/pages/nreserva/nreserva.ts"],"names":[],"mappings":"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","file":"5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { NreservaPage } from './nreserva';\n\n@NgModule({\n  declarations: [\n    NreservaPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(NreservaPage),\n  ],\n})\nexport class NreservaPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/nreserva/nreserva.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { ModalController, Events} from 'ionic-angular';\nimport { RestProvider } from '../../providers/rest/rest';\n\nimport { CalendarModal, CalendarModalOptions, DayConfig, CalendarResult } from \"ion2-calendar\";\n import { Storage } from '@ionic/storage';\n\nimport { LoadingController } from 'ionic-angular';\nimport { AlertController } from 'ionic-angular';\n\nimport { DomSanitizer } from '@angular/platform-browser';\n\n\nimport {CalendarComponentOptions} from 'ion2-calendar';\nimport * as moment from 'moment';\n\n\n/**\n * Generated class for the NreservaPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-nreserva',\n  templateUrl: 'nreserva.html',\n})\nexport class NreservaPage {\nseleccion:any={};\nfechaSeleccionadaN:any;\nserviciosCita:any=[];\nservicios:any=[];\ncats:any=[];\nsubcats:any=[];\n\ncita:any={};\n  constructor(public navCtrl: NavController, public navParams: NavParams,public modalCtrl: ModalController,public events: Events,public alertCtrl: AlertController, public loadingCtrl: LoadingController,private DomSanitizer: DomSanitizer, public restProvider: RestProvider,public storage: Storage) {\n\n  this.seleccion.categoria=[];\n    this.seleccion.subcategoria=[];\n    events.subscribe('addServicio', (ss) => {\n    // user and time are the same arguments passed in `events.publish(user, time)`\n    this.serviciosCita.push(ss);\n\n    if(this.cita.horaInicio){this.asignarHoras();}\n\n\n  });\n\n\n  }\n\n\n\n  ionViewDidLoad() {\n\n      this.storage.get('usr_tok_byae').then((result) => {\n    \n    if(result){\n      this.idEmpleado = result.idEmpleado;\n      console.log(result);\n\n      var dataE ={idEmpleado:this.idEmpleado}; \n\n       this.restProvider.getCategoriasEmpleadoC(dataE)\n      .then(data => {\n          this.cats = data;\n          console.log(this.cats);\n        },err => {\n              console.log('someError');\n              this.presentAlert('Ups!','Ha ocurrido un error inesperado');\n            });\n\n\n    } \n    });\n\n  }\n\n\n\n      reintentarAlert(funcionEnviar){\n\n    var mensaje = `<div>  \n                      <p>No hemos podido conectar. \n                      Verifica tu conexión a Internet para continuar</p>\n                      \n                   <div>`;\n    let alert = this.alertCtrl.create({\n      title: 'Error de conexión',\n      subTitle: this.DomSanitizer.bypassSecurityTrustHtml(mensaje),\n       buttons: [\n\n           {\n        text: 'Reintentar',\n        handler: () => {\n          funcionEnviar();\n        }\n      },\n    ],\n      enableBackdropDismiss: false\n    });\n    alert.present();\n\n  }\n\n\n\ngetDuracion(duracion){\n  var first = Math.floor(duracion/60);\n  var sec = duracion % 60;\n  return first+'h ' +sec+'min';\n}\n\n\ngetTotal(){\n  var total = 0;\n  this.serviciosCita.forEach(item=>{\n  item.precioFinal = item.precio;\n    total+=item.precio;\n  });\n  return total;\n}\n\ngetSubCats(){\n\n      let loading = this.loadingCtrl.create();\n  loading.present();\n  console.log(this.seleccion.categoria);\n    this.seleccion.subcategoria = 0;\n  //this.seleccion.subcategoria = undefined;\n  this.servicios = [];\n  this.servicioSeleccionado = 0;\n  var dataE={idCategoria:this.seleccion.categoria,idEmpleado:this.idEmpleado};\n\n       this.restProvider.getSubcategoriasEmpleado(dataE)\n      .then(data => {\n          if(data){  this.subcats = data.subcats;\n            this.servicios = data.servicios;\n             loading.dismiss();}\n             else{ this.reintentarAlert(this.getSubCats.bind(this));}\n        \n        },err => {\n              console.log('someError');\n               this.reintentarAlert(this.getSubCats.bind(this));\n              loading.dismiss();\n            });\n\n}\n\n\ngetSubCatsS(){\nconsole.log(this.seleccion.subcategoria);\nif(this.seleccion.subcategoria && this.seleccion.subcategoria>0){\n\n      let loading = this.loadingCtrl.create();\n  loading.present();\n\n\n  this.servicios = [];\n    this.servicioSeleccionado = 0;\n  var dataE={sub:this.seleccion.subcategoria,idEmpleado:this.idEmpleado};\n\n       this.restProvider.getSubcategoriasServ(dataE)\n      .then(data => {\n        //  this.subcats = data.subcats;\n            this.servicios = data;\n            console.log(data);\n            loading.dismiss();\n        },err => {\n              console.log('someError');\n              this.presentAlert('Ups!','Ha ocurrido un error inesperado');\n              loading.dismiss();\n            });\n}\n}\n\nguardarNR(){\n\n\tvar fechaSeleccionada = this.cita.fecha;\n\n\tvar dataE= {\n\tidCentro:this.idEmpleado,\n\tidEmpleado:this.idEmpleado,\n\tidCliente:0,\n\tfechaInicio: this.serviciosCita[0].inicio+':00',\n\tfechaFinal: this.serviciosCita[this.serviciosCita.length-1].fin+':00',\n\ttotal:this.getTotal(),\n\tnotaCita:'cita manual',\n\tclienteReferencia:this.cita.nombreCliente || ' ',\n\tfecha: fechaSeleccionada,\n\tservicios:this.serviciosCita\n\t}\n\nconsole.log(dataE);\n\n       let loading = this.loadingCtrl.create({content : \"Cargando...\"});\n  loading.present();\n\n                    this.restProvider.addCitaManual2(dataE)\n      .then(data => {\n\n                 loading.dismiss();\n                  \tthis.presentAlert('Guardado','Reserva guardada con exito');\n         \t this.navCtrl.pop();\n        },err => {\n                      loading.dismiss();\n\n               console.log('someError');\n              \tthis.presentAlert('Ups!','Ha ocurrido un error inesperado');\n            });\n\n\n\t\n}\n\n\n\n    presentAlert(titulo,mensaje) {\n    let alert = this.alertCtrl.create({\n      title: titulo,\n      subTitle: mensaje,\n      buttons: ['Cerrar']\n    });\n    alert.present();\n  }\n\n\nsacarItem(ins){\n\tthis.serviciosCita.splice(ins, 1);\n\t if(this.cita.horaInicio){this.asignarHoras();}\n}\n\ngetDataFormatMM(hora){\n return hora.replace(/-/g, \"/\");\n}\n\nopenCalendar() {\n    const options: CalendarModalOptions = {\n     pickMode: 'single',\n      title: ' ',\n      weekStart:1,\n      weekdays:['D', 'L', 'M', 'M', 'J', 'V', 'S'],\n      color:'light',\n      doneLabel:'Listo',\n      closeLabel:'Salir',\n      defaultDates:this.fechasEspeciales,\n    };\n    let myCalendar =  this.modalCtrl.create(CalendarModal, {\n      options: options\n    });\n \n    myCalendar.present();\n \n    myCalendar.onDidDismiss((date: CalendarResult, type: string) => {\n      console.log(date);\n\n     \t\tif(date){\n\t\tthis.cita.fecha = date.string;\n            }\n\n\n    })\n  }\n\nasignarHoras(){\n\t\n\tvar hInicio = this.cita.fecha+' '+this.cita.horaInicio;\n\tvar hInicioTemp = this.cita.fecha+' '+this.cita.horaInicio;\n\tconsole.log(hInicio);\n\n\t this.serviciosCita.map((item)=>{\n\n\t item.inicio = hInicioTemp;\n\t item.fin = moment(hInicioTemp, 'YYYY-MM-DD HH:mm').add(item.duracion, 'minutes').format(\"YYYY-MM-DD HH:mm\");\n\t hInicioTemp = moment(hInicioTemp, 'YYYY-MM-DD HH:mm').add(item.duracion, 'minutes').format(\"YYYY-MM-DD HH:mm\");\n\n   console.log(item);\n   return JSON.parse(JSON.stringify(item));\n\n\n\t });\n\n\t console.log(this.serviciosCita);\n}\n\nshowSome(ds){\n\tconsole.log(ds);\n}\n\n\ngetHoras(hora){\n \n  return Math.floor(hora/60);\n}\n\n\n\n\t   openServices(ss) {\n/*\n\t       var dataE={idCategoria:this.navParams.get('idCategoria'),\n\t                idCentro:this.navParams.get('idCentro')};\n\n\t   let profileModal = this.modalCtrl.create('ModalServicesPage');\n\t   profileModal.present();\n\n     */\n     var sss = this.servicios.filter(item=>{return item.idServicio == ss})[0];\n     console.log(sss);\n     var copyWR = JSON.parse(JSON.stringify(sss));\n    this.serviciosCita.push(copyWR);\n\n    if(this.cita.horaInicio){this.asignarHoras();}\n\n\t }\n\n\n\n}\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/nreserva/nreserva.ts"],"sourceRoot":""}